---
id: 393
title: Sierpinski in OpenGL
date: 2011-11-23T23:35:07-04:00
author: brad
layout: post
guid: http://br4d.net/?p=393
permalink: /sierpinski-in-opengl/
categories:
  - C / C++
  - OpenGL / WebGL
  - Programming
---
[<img src="/images/2015/01/sierpinski-292x300.png" alt="sierpinski" width="292" height="300" class="alignleft size-medium wp-image-394" srcset="/images/2015/01/sierpinski-292x300.png 292w, /images/2015/01/sierpinski.png 489w" sizes="(max-width: 292px) 100vw, 292px" />](/images/2015/01/sierpinski.png)

This is just a simple 2D rendering of the famous [Sierpinski gasket](http://www.wolframalpha.com/input/?i=sierpinski+gasket&a=*C.sierpinski+gasket-_*Formula.dflt-&f2=11&f=SierpinskiGasket.n_11&x=10&y=7).

This was rendered using recursion, simple math, and GL_LINES.

<!--more-->

<div class="codecolorer-container cpp default">
  <div class="cpp codecolorer">
    <span class="co2">#include "stdafx.h"</span><br /> <span class="co2">#include <stdio.h></span><br /> <span class="co2">#include <stdlib.h></span><br /> <span class="co2">#include <math.h></span><br /> <span class="co2">#include "GL/glut.h"</span><br /> &nbsp;<br /> <span class="co2">#include<GL/glut.h></span><br /> &nbsp;<br /> <span class="kw4">void</span> sierpinski2d<span class="br0">&#40;</span><span class="kw4">float</span> vertex1<span class="br0">&#91;</span><span class="br0">&#93;</span>, <span class="kw4">float</span> vertex2<span class="br0">&#91;</span><span class="br0">&#93;</span>, <span class="kw4">float</span> vertex3<span class="br0">&#91;</span><span class="br0">&#93;</span>, <span class="kw4">int</span> current_depth<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; <span class="kw4">float</span> next_vertex1<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span>,next_vertex2<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span>,next_vertex3<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; <span class="co1">//float perimeter = sqrt(vertex1[0]);</span><br /> &nbsp;<br /> &nbsp; &nbsp; <span class="co1">//if(perimeter > 0.01)</span><br /> &nbsp; &nbsp; <span class="co1">//&nbsp; return;</span><br /> &nbsp;<br /> &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>current_depth <span class="sy1">>=</span> <span class="nu0">12</span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; glBegin<span class="br0">&#40;</span>GL_LINES<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glVertex3fv<span class="br0">&#40;</span>vertex1<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glVertex3fv<span class="br0">&#40;</span>vertex2<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glVertex3fv<span class="br0">&#40;</span>vertex3<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glEnd<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp;<br /> &nbsp; &nbsp; next_vertex1<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex1<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="sy2">+</span>vertex2<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp; &nbsp; next_vertex1<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex1<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy2">+</span>vertex2<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp; &nbsp; next_vertex1<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex1<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy2">+</span>vertex2<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; next_vertex3<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex2<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="sy2">+</span>vertex3<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp; &nbsp; next_vertex3<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex2<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy2">+</span>vertex3<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp; &nbsp; next_vertex3<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex2<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy2">+</span>vertex3<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; next_vertex2<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex1<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="sy2">+</span>vertex3<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp; &nbsp; next_vertex2<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex1<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy2">+</span>vertex3<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp; &nbsp; next_vertex2<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#40;</span>vertex1<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy2">+</span>vertex3<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; sierpinski2d<span class="br0">&#40;</span>next_vertex1,vertex1,next_vertex2,current_depth<span class="sy2">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; sierpinski2d<span class="br0">&#40;</span>next_vertex1,vertex2,next_vertex3,current_depth<span class="sy2">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; sierpinski2d<span class="br0">&#40;</span>next_vertex3,vertex3,next_vertex2,current_depth<span class="sy2">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> myInit<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp;<br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> display<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; <span class="kw4">float</span> vertex1<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="sy1">=</span><span class="br0">&#123;</span><span class="nu16">5.0</span>,<span class="nu16">0.0</span>,<span class="nu16">0.0</span><span class="br0">&#125;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw4">float</span> vertex2<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="sy1">=</span><span class="br0">&#123;</span><span class="sy2">-</span><span class="nu16">5.0</span>,<span class="nu16">0.0</span>,<span class="nu16">0.0</span><span class="br0">&#125;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw4">float</span> vertex3<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="sy1">=</span><span class="br0">&#123;</span><span class="nu16">0.0</span>,<span class="nu16">5.0</span>,<span class="nu16">0.0</span><span class="br0">&#125;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glClearColor<span class="br0">&#40;</span><span class="nu16">0.0</span>,<span class="nu16">0.0</span>,<span class="nu16">0.0</span>,<span class="nu16">1.0</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glClear<span class="br0">&#40;</span>GL_COLOR_BUFFER_BIT<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glColor3f<span class="br0">&#40;</span><span class="nu16">0.0</span>,<span class="nu16">0.8</span>,<span class="nu16">0.0</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glMatrixMode<span class="br0">&#40;</span>GL_PROJECTION<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glLoadIdentity<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; gluOrtho2D<span class="br0">&#40;</span><span class="sy2">-</span><span class="nu16">5.0</span>,<span class="nu16">5.0</span>,<span class="nu16">0.0</span>,<span class="nu16">5.0</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glMatrixMode<span class="br0">&#40;</span>GL_MODELVIEW<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; sierpinski2d<span class="br0">&#40;</span>vertex1,vertex2,vertex3,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glFlush<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc,<span class="kw4">char</span> <span class="sy2">**</span>argv<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; glutInit<span class="br0">&#40;</span><span class="sy3">&</span>argc,argv<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutInitDisplayMode<span class="br0">&#40;</span>GLUT_SINGLE <span class="sy3">|</span> GLUT_RGB <span class="sy3">|</span> GLUT_DEPTH <span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutInitWindowSize<span class="br0">&#40;</span><span class="nu0">800</span>,<span class="nu0">800</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutInitWindowPosition<span class="br0">&#40;</span><span class="nu0">10</span>,<span class="nu0">10</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutCreateWindow<span class="br0">&#40;</span><span class="st0">"Sierpinski 2D"</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; myInit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> &nbsp;<br /> &nbsp; &nbsp; glutDisplayFunc<span class="br0">&#40;</span>display<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutMainLoop<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="br0">&#125;</span>
  </div>
</div>