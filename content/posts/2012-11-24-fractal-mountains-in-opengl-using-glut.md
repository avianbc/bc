---
id: 375
title: Fractal Mountains in OpenGL using GLUT
date: 2012-11-24T00:16:21-04:00
author: brad
layout: post
guid: http://br4d.net/?p=375
permalink: /fractal-mountains-in-opengl-using-glut/
categories:
  - C / C++
  - OpenGL / WebGL
  - Programming
---
[<img src="/images/2015/01/fractalmountains-292x300.png" alt="fractalmountains" width="292" height="300" class="alignleft size-medium wp-image-376" srcset="/images/2015/01/fractalmountains-292x300.png 292w, /images/2015/01/fractalmountains.png 490w" sizes="(max-width: 292px) 100vw, 292px" />](/images/2015/01/fractalmountains.png)

This was a project from my Computer Graphics course at Marshall University. The mountains are randomly generated from a normalized pseudo-random number generator and a fractal function. Every time you resize the windows or launch the program, they are drawn differently.

<!--more-->

This program relies upon GLUT and uses a bitmap for the grass texture. As such, BitmapLoader.h was used to load them into the program for usage. All of these as well as the source code can be found below.

Dependencies:

  * [GLUT Official Site](http://user.xmission.com/~nate/glut.html)
  * [Download BitmapLoader.h](/images/2015/01/BitmapLoader.h)
  * [Download grass.bmp texture](/images/2015/01/grass.bmp)

<div class="codecolorer-container cpp default" style="overflow:auto;white-space:nowrap;height:300px;">
  <div class="cpp codecolorer">
    <span class="co2">#include "stdafx.h"</span><br /> <span class="co2">#include <stdio.h></span><br /> <span class="co2">#include <stdlib.h></span><br /> <span class="co2">#include <GL/glut.h></span><br /> <span class="co2">#include <math.h></span><br /> <span class="co2">#include "BitmapLoader.h"</span><br /> <span class="kw2">using</span> <span class="kw2">namespace</span> std<span class="sy4">;</span><br /> &nbsp;<br /> <span class="kw4">double</span> tolerance <span class="sy1">=</span> <span class="nu16">0.015</span><span class="sy4">;</span><br /> <span class="kw4">double</span> lightPos<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span> <span class="sy1">=</span> <span class="br0">&#123;</span><span class="nu0">50</span>,<span class="nu0">35</span>,<span class="nu16">1.95</span><span class="br0">&#125;</span><span class="sy4">;</span><br /> BITMAPINFOHEADER myBitmap1, myBitmap2<span class="sy4">;</span><br /> <span class="kw4">unsigned</span> <span class="kw4">char</span> <span class="sy2">*</span>mytexture1, <span class="sy2">*</span>mytexture2<span class="sy4">;</span><br /> <span class="kw4">void</span> createTexture1<span class="br0">&#40;</span><span class="kw4">unsigned</span> <span class="kw4">char</span> <span class="sy2">*</span>mytexture1, BITMAPINFOHEADER myBitmap1<span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="kw4">void</span> createTexture2<span class="br0">&#40;</span><span class="kw4">unsigned</span> <span class="kw4">char</span> <span class="sy2">*</span>mytexture2, BITMAPINFOHEADER myBitmap2<span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="kw4">double</span> randomNormal <span class="br0">&#40;</span><span class="kw4">double</span> mu, <span class="kw4">double</span> sigma<span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="kw4">void</span> fracMountain<span class="br0">&#40;</span><span class="kw4">float</span> x1, <span class="kw4">float</span> y1, <span class="kw4">float</span> z1, <span class="kw4">float</span> x2, <span class="kw4">float</span> y2, <span class="kw4">float</span> z2, <span class="kw4">float</span> x3, <span class="kw4">float</span> y3, <span class="kw4">float</span> z3, <span class="kw4">float</span> x4, <span class="kw4">float</span> y4, <span class="kw4">float</span> z4<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp;<br /> <span class="kw4">double</span> randomNormal <span class="br0">&#40;</span><span class="kw4">double</span> mu, <span class="kw4">double</span> sigma<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; <span class="kw4">double</span> sum <span class="sy1">=</span> <span class="nu0"></span><span class="sy4">;</span><br /> &nbsp; <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy1">=</span> <span class="nu0"></span><span class="sy4">;</span> i <span class="sy1"><</span> <span class="nu0">12</span><span class="sy4">;</span> i<span class="sy2">++</span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; sum <span class="sy1">=</span> sum <span class="sy2">+</span> <span class="br0">&#40;</span><span class="kw4">double</span><span class="br0">&#41;</span><span class="kw3">rand</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="kw2">RAND_MAX</span><span class="sy4">;</span><br /> &nbsp; sum <span class="sy2">-</span><span class="sy1">=</span> <span class="nu0">6</span><span class="sy4">;</span><br /> &nbsp; <span class="kw1">return</span> sigma<span class="sy2">*</span>sum <span class="sy2">+</span> mu<span class="sy4">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> createTexture1<span class="br0">&#40;</span><span class="kw4">unsigned</span> <span class="kw4">char</span> <span class="sy2">*</span>mytexture1, BITMAPINFOHEADER myBitmap1<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; glEnable<span class="br0">&#40;</span>GL_TEXTURE_2D<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glTexImage2D<span class="br0">&#40;</span>GL_TEXTURE_2D,<span class="nu0"></span>,<span class="nu0">3</span>,myBitmap1.<span class="me1">biWidth</span>,myBitmap1.<span class="me1">biHeight</span>,<span class="nu0"></span>,GL_RGB, GL_UNSIGNED_BYTE, mytexture1<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glTexParameterf<span class="br0">&#40;</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glTexParameterf<span class="br0">&#40;</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glTexParameterf<span class="br0">&#40;</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glTexParameterf<span class="br0">&#40;</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST<span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> draw_circle<span class="br0">&#40;</span><span class="kw4">double</span> radius, <span class="kw4">double</span> xLoc, <span class="kw4">double</span> yLoc<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; <span class="kw4">double</span> theta <span class="sy1">=</span> <span class="nu0"></span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw4">double</span> increment <span class="sy1">=</span> <span class="br0">&#40;</span><span class="nu0">10</span><span class="sy2">*</span><span class="nu16">3.14159265</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">180</span><span class="sy4">;</span> <span class="co1">// 10 degrees</span><br /> &nbsp; &nbsp; glBegin<span class="br0">&#40;</span>GL_POLYGON<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int</span> i<span class="sy1">=</span><span class="nu0"></span><span class="sy4">;</span> i<span class="sy1"><</span><span class="nu0">36</span><span class="sy4">;</span> i<span class="sy2">++</span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; <span class="br0">&#123;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">float</span> x <span class="sy1">=</span> radius<span class="sy2">*</span><span class="kw3">cos</span><span class="br0">&#40;</span>theta<span class="br0">&#41;</span> <span class="sy2">+</span> xLoc<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">float</span> y <span class="sy1">=</span> radius<span class="sy2">*</span><span class="kw3">sin</span><span class="br0">&#40;</span>theta<span class="br0">&#41;</span> <span class="sy2">+</span> yLoc<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glVertex2f<span class="br0">&#40;</span>x,y<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; theta<span class="sy2">+</span><span class="sy1">=</span>increment<span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="br0">&#125;</span><br /> &nbsp; &nbsp; glEnd<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> fracMountain<span class="br0">&#40;</span><span class="kw4">float</span> x1, <span class="kw4">float</span> y1, <span class="kw4">float</span> z1, <span class="kw4">float</span> x2, <span class="kw4">float</span> y2, <span class="kw4">float</span> z2, <span class="kw4">float</span> x3, <span class="kw4">float</span> y3, <span class="kw4">float</span> z3, <span class="kw4">float</span> x4, <span class="kw4">float</span> y4, <span class="kw4">float</span> z4<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; <span class="kw4">double</span> perim <span class="sy1">=</span> <span class="kw3">sqrt</span><span class="br0">&#40;</span><span class="br0">&#40;</span>x2<span class="sy2">-</span>x1<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>x2<span class="sy2">-</span>x1<span class="br0">&#41;</span> <span class="sy2">+</span> <span class="br0">&#40;</span>z2<span class="sy2">-</span>z1<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>z2<span class="sy2">-</span>z1<span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy2">+</span> <span class="kw3">sqrt</span><span class="br0">&#40;</span><span class="br0">&#40;</span>x3<span class="sy2">-</span>x2<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>x3<span class="sy2">-</span>x2<span class="br0">&#41;</span> <span class="sy2">+</span> <span class="br0">&#40;</span>z3<span class="sy2">-</span>z2<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>z3<span class="sy2">-</span>z2<span class="br0">&#41;</span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy2">+</span> <span class="kw3">sqrt</span><span class="br0">&#40;</span><span class="br0">&#40;</span>x4<span class="sy2">-</span>x3<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>x4<span class="sy2">-</span>x3<span class="br0">&#41;</span> <span class="sy2">+</span> <span class="br0">&#40;</span>z4<span class="sy2">-</span>z3<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>z4<span class="sy2">-</span>z3<span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy2">+</span> <span class="kw3">sqrt</span><span class="br0">&#40;</span><span class="br0">&#40;</span>x1<span class="sy2">-</span>x4<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>x1<span class="sy2">-</span>x4<span class="br0">&#41;</span> <span class="sy2">+</span> <span class="br0">&#40;</span>z1<span class="sy2">-</span>z4<span class="br0">&#41;</span><span class="sy2">*</span><span class="br0">&#40;</span>z1<span class="sy2">-</span>z4<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>perim <span class="sy1"><=</span> tolerance<span class="br0">&#41;</span><br /> &nbsp; &nbsp; <span class="br0">&#123;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> v1<span class="sy1">=</span>x2<span class="sy2">-</span>x1, v2<span class="sy1">=</span>y2<span class="sy2">-</span>y1, v3<span class="sy1">=</span>z2<span class="sy2">-</span>z1<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> w1<span class="sy1">=</span>x3<span class="sy2">-</span>x2, w2<span class="sy1">=</span>y3<span class="sy2">-</span>y2, w3<span class="sy1">=</span>z3<span class="sy2">-</span>z2<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> crossx<span class="sy1">=</span>v2<span class="sy2">*</span>w3<span class="sy2">-</span>w2<span class="sy2">*</span>v3<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> crossy<span class="sy1">=</span>v3<span class="sy2">*</span>w1<span class="sy2">-</span>w3<span class="sy2">*</span>v1<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> crossz<span class="sy1">=</span>v1<span class="sy2">*</span>w2<span class="sy2">-</span>w1<span class="sy2">*</span>v2<span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> tolightx<span class="sy1">=</span>lightPos<span class="br0">&#91;</span><span class="nu0"></span><span class="br0">&#93;</span><span class="sy2">-</span>x1<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> tolighty<span class="sy1">=</span>lightPos<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy2">-</span>y1<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> tolightz<span class="sy1">=</span>lightPos<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy2">-</span>z1<span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> dot <span class="sy1">=</span>crossx<span class="sy2">*</span>tolightx <span class="sy2">+</span>crossy<span class="sy2">*</span>tolighty <span class="sy2">+</span>crossz<span class="sy2">*</span>tolightz<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> normc<span class="sy1">=</span><span class="kw3">sqrt</span><span class="br0">&#40;</span>crossx<span class="sy2">*</span>crossx <span class="sy2">+</span>crossy<span class="sy2">*</span>crossy <span class="sy2">+</span> crossz<span class="sy2">*</span>crossz<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> norml <span class="sy1">=</span> <span class="kw3">sqrt</span><span class="br0">&#40;</span>tolightx<span class="sy2">*</span>tolightx <span class="sy2">+</span> tolighty<span class="sy2">*</span>tolighty <span class="sy2">+</span> tolightz<span class="sy2">*</span>tolightz<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> lightamt<span class="sy1">=</span>dot<span class="sy2">/</span><span class="br0">&#40;</span>normc<span class="sy2">*</span>norml<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>lightamt<span class="sy1">></span><span class="nu0">1</span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lightamt<span class="sy1">=</span><span class="nu0">1</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>lightamt<span class="sy1"><</span><span class="nu0"></span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lightamt<span class="sy1">=</span><span class="nu16">0.5</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; &nbsp; &nbsp; lightamt<span class="sy1">=</span><span class="br0">&#40;</span>lightamt<span class="sy2">*</span><span class="nu0">2</span> <span class="sy2">+</span><span class="nu16">0.15</span><span class="br0">&#41;</span><span class="sy2">/</span><span class="nu16">2.15</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glColor3f<span class="br0">&#40;</span>lightamt,lightamt,lightamt<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glBegin<span class="br0">&#40;</span>GL_POLYGON<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; glVertex3f<span class="br0">&#40;</span>x1,y1,z1<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; glVertex3f<span class="br0">&#40;</span>x2,y2,z2<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; glVertex3f<span class="br0">&#40;</span>x3,y3,z3<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; glVertex3f<span class="br0">&#40;</span>x4,y4,z4<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glEnd<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="br0">&#125;</span><br /> &nbsp; &nbsp; <span class="kw1">else</span><br /> &nbsp; &nbsp; <span class="br0">&#123;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> r1 <span class="sy1">=</span> <span class="br0">&#40;</span><span class="kw4">double</span><span class="br0">&#41;</span>randomNormal<span class="br0">&#40;</span><span class="nu16">0.041</span>, <span class="nu16">0.1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> r2 <span class="sy1">=</span> <span class="br0">&#40;</span><span class="kw4">double</span><span class="br0">&#41;</span>randomNormal<span class="br0">&#40;</span><span class="nu16">0.0</span>, &nbsp; <span class="nu16">0.01</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> r3 <span class="sy1">=</span> <span class="br0">&#40;</span><span class="kw4">double</span><span class="br0">&#41;</span>randomNormal<span class="br0">&#40;</span><span class="nu16">0.0</span>, &nbsp; <span class="nu16">0.01</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> xmid <span class="sy1">=</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>x1<span class="sy2">+</span>x2<span class="sy2">+</span>x3<span class="sy2">+</span>x4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">4</span><span class="br0">&#41;</span><span class="sy2">+</span>r2<span class="sy2">*</span>perim<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> ymid <span class="sy1">=</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>y1<span class="sy2">+</span>y2<span class="sy2">+</span>y3<span class="sy2">+</span>y4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">4</span><span class="br0">&#41;</span><span class="sy2">+</span>r1<span class="sy2">*</span>perim<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>ymid<span class="sy1"><</span><span class="nu0"></span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ymid<span class="sy1">=</span><span class="nu0"></span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">double</span> zmid <span class="sy1">=</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>z1<span class="sy2">+</span>z2<span class="sy2">+</span>z3<span class="sy2">+</span>z4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">4</span><span class="br0">&#41;</span><span class="sy2">+</span>r3<span class="sy2">*</span>perim<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; fracMountain<span class="br0">&#40;</span>x1,y1,z1,<span class="br0">&#40;</span>x1<span class="sy2">+</span>x2<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y1<span class="sy2">+</span>y2<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z1<span class="sy2">+</span>z2<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,xmid,ymid,zmid,<span class="br0">&#40;</span>x1<span class="sy2">+</span>x4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y1<span class="sy2">+</span>y4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z1<span class="sy2">+</span>z4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; fracMountain<span class="br0">&#40;</span><span class="br0">&#40;</span>x1<span class="sy2">+</span>x4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y1<span class="sy2">+</span>y4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z1<span class="sy2">+</span>z4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,xmid,ymid,zmid,<span class="br0">&#40;</span>x4<span class="sy2">+</span>x3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y4<span class="sy2">+</span>y3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z4<span class="sy2">+</span>z3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,x4,y4,z4<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; fracMountain<span class="br0">&#40;</span><span class="br0">&#40;</span>x1<span class="sy2">+</span>x2<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y1<span class="sy2">+</span>y2<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z1<span class="sy2">+</span>z2<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,x2,y2,z2,<span class="br0">&#40;</span>x2<span class="sy2">+</span>x3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y2<span class="sy2">+</span>y3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z2<span class="sy2">+</span>z3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,xmid,ymid,zmid<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; fracMountain<span class="br0">&#40;</span>xmid,ymid,zmid,<span class="br0">&#40;</span>x2<span class="sy2">+</span>x3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y2<span class="sy2">+</span>y3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z2<span class="sy2">+</span>z3<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,x3,y3,z3,<span class="br0">&#40;</span>x3<span class="sy2">+</span>x4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>y3<span class="sy2">+</span>y4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span>,<span class="br0">&#40;</span>z3<span class="sy2">+</span>z4<span class="br0">&#41;</span><span class="sy2">/</span><span class="nu0">2</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="br0">&#125;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> init<span class="br0">&#40;</span><span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; mytexture1 <span class="sy1">=</span> LoadBitmapFile<span class="br0">&#40;</span><span class="st0">"grass.bmp"</span>, <span class="sy3">&</span>myBitmap1<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>mytexture1<span class="sy1">==</span><span class="kw2">NULL</span><span class="br0">&#41;</span><br /> &nbsp; &nbsp; <span class="br0">&#123;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">printf</span><span class="br0">&#40;</span><span class="st0">"grass load failed<span class="es1">\n</span>"</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw4">int</span> w<span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; scanf_s<span class="br0">&#40;</span><span class="st0">"%i"</span>,<span class="sy3">&</span>w<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">exit</span><span class="br0">&#40;</span><span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="br0">&#125;</span><br /> &nbsp; &nbsp; <span class="kw1">else</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">printf</span><span class="br0">&#40;</span><span class="st0">"grass.bmp load succeeded<span class="es1">\n</span>"</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp; &nbsp; glMatrixMode<span class="br0">&#40;</span>GL_PROJECTION<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glLoadIdentity<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glClearColor<span class="br0">&#40;</span><span class="nu16">0.2</span>, <span class="nu16">0.2</span>, <span class="nu16">0.2</span>, <span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glOrtho<span class="br0">&#40;</span><span class="sy2">-</span><span class="nu16">0.5</span>,<span class="nu16">1.5</span>,<span class="sy2">-</span><span class="nu16">0.25</span>,<span class="nu0">2</span>,<span class="sy2">-</span><span class="nu0">5</span>,<span class="nu16">1.95</span><span class="br0">&#41;</span><span class="sy4">;</span> <span class="co1">// l r b t n f</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">void</span> display<span class="br0">&#40;</span><span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; glClear<span class="br0">&#40;</span>GL_COLOR_BUFFER_BIT <span class="sy3">|</span> GL_DEPTH_BUFFER_BIT<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glColor3f<span class="br0">&#40;</span><span class="nu16">0.2</span>, <span class="nu16">0.2</span>, <span class="nu16">0.2</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glMatrixMode<span class="br0">&#40;</span>GL_MODELVIEW<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glLoadIdentity<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glRotatef<span class="br0">&#40;</span><span class="nu0">25</span>,<span class="nu0">1</span>,<span class="nu0"></span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glRotatef<span class="br0">&#40;</span><span class="nu0">15</span>,<span class="nu0"></span>,<span class="nu0">1</span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glColor3f<span class="br0">&#40;</span><span class="nu16">1.0</span>,<span class="nu16">1.0</span>,<span class="nu16">1.0</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; draw_circle<span class="br0">&#40;</span><span class="nu16">0.2</span>,<span class="nu16">1.44</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp;<br /> &nbsp;<br /> &nbsp; &nbsp; glColor3f<span class="br0">&#40;</span><span class="nu16">0.0</span>,<span class="nu16">0.4</span>,<span class="nu16">0.0</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; createTexture1<span class="br0">&#40;</span>mytexture1, myBitmap1<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glBegin<span class="br0">&#40;</span>GL_POLYGON<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glTexCoord2f<span class="br0">&#40;</span><span class="nu0"></span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span> glNormal3f<span class="br0">&#40;</span><span class="nu0"></span>,<span class="nu0">1</span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span> glVertex3f<span class="br0">&#40;</span><span class="sy2">-</span><span class="nu0">1</span>,<span class="nu0"></span>,<span class="sy2">-</span><span class="nu0">5</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glTexCoord2f<span class="br0">&#40;</span><span class="nu0"></span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span> glNormal3f<span class="br0">&#40;</span><span class="nu0"></span>,<span class="nu0">1</span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span> glVertex3f<span class="br0">&#40;</span><span class="sy2">-</span><span class="nu0">1</span>,<span class="nu0"></span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glTexCoord2f<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span> glNormal3f<span class="br0">&#40;</span><span class="nu0"></span>,<span class="nu0">1</span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span> glVertex3f<span class="br0">&#40;</span><span class="nu0">2</span>,<span class="nu0"></span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; glTexCoord2f<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span> glNormal3f<span class="br0">&#40;</span><span class="nu0"></span>,<span class="nu0">1</span>,<span class="nu0"></span><span class="br0">&#41;</span><span class="sy4">;</span> glVertex3f<span class="br0">&#40;</span><span class="nu0">2</span>,<span class="nu0"></span>,<span class="sy2">-</span><span class="nu0">5</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glEnd<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glColor3f<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; fracMountain<span class="br0">&#40;</span><span class="nu16">0.8</span>,<span class="nu16">0.0</span>,<span class="sy2">-</span><span class="nu0">2</span>, &nbsp;<span class="nu16">0.8</span>,<span class="nu16">0.0</span>,<span class="sy2">-</span><span class="nu0">1</span>, &nbsp;<span class="nu16">2.0</span>,<span class="nu16">0.0</span>,<span class="sy2">-</span><span class="nu0">1</span>, &nbsp;<span class="nu16">2.0</span>,<span class="nu16">0.0</span>,<span class="sy2">-</span><span class="nu0">2</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; fracMountain<span class="br0">&#40;</span><span class="sy2">-</span><span class="nu16">0.85</span>,<span class="nu16">0.0</span>,<span class="sy2">-</span><span class="nu16">1.0</span>, &nbsp;<span class="sy2">-</span><span class="nu16">0.85</span>,<span class="nu16">0.0</span>,<span class="nu16">0.0</span>, &nbsp;<span class="nu16">0.85</span>,<span class="nu16">0.0</span>,<span class="nu16">0.0</span>, &nbsp;<span class="nu16">0.85</span>,<span class="nu16">0.0</span>,<span class="sy2">-</span><span class="nu16">1.0</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glFlush<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc, <span class="kw4">char</span><span class="sy2">**</span> argv<span class="br0">&#41;</span><br /> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; glutInit<span class="br0">&#40;</span><span class="sy3">&</span>argc, argv<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutInitWindowSize<span class="br0">&#40;</span><span class="nu0">800</span>,<span class="nu0">800</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutCreateWindow<span class="br0">&#40;</span><span class="st0">"CS370 Final Project"</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutInitDisplayMode<span class="br0">&#40;</span>GLUT_SINGLE <span class="sy3">|</span> GLUT_RGB <span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutDisplayFunc<span class="br0">&#40;</span>display<span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; init<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; glutMainLoop<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span><br /> &nbsp; &nbsp; <span class="kw1">return</span> <span class="nu0"></span><span class="sy4">;</span><br /> <span class="br0">&#125;</span>
  </div>
</div>